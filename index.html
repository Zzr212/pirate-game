<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursed Gold - Captain's Edition</title>
    <link rel="stylesheet" href="/src/style.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="app"></div>

    <!-- 3D BACKGROUND LAYER -->
    <div id="scene-layer"></div>

    <!-- === MAIN MENU === -->
    <div id="main-menu">
        <div class="menu-header">
            <div class="logo-area">
                <h1>CURSED GOLD</h1>
                <span class="version">EARLY ACCESS v0.2</span>
            </div>
            <div class="menu-nav">
                <div class="nav-item active">PLAY</div>
                <div class="nav-item">COLLECTION</div>
                <div class="nav-item">PROFILE</div>
            </div>
        </div>

        <div class="menu-body">
            <!-- Left Side: Character Preview Name -->
            <div class="char-info">
                <h2>CAPTAIN<br>BLACKBEARD</h2>
                <p>The scourge of the seven seas.</p>
                <button id="btn-change-char" class="btn-hextech-small"><i class="fas fa-sync"></i> SWAP</button>
            </div>

            <!-- Right Side: Play Controls -->
            <div class="play-controls">
                <div class="input-group">
                    <label>PIRATE NAME</label>
                    <input type="text" id="inp-nickname" placeholder="Enter Name" maxlength="12">
                </div>
                
                <button id="btn-play" class="btn-play-large">
                    <span class="glow"></span>
                    FIND MATCH
                </button>
                
                <div class="sub-controls">
                    <button id="btn-builder" class="btn-hextech"><i class="fas fa-hammer"></i> MAP BUILDER</button>
                    <button class="btn-hextech"><i class="fas fa-cog"></i> SETTINGS</button>
                </div>
            </div>
        </div>
    </div>

    <!-- === LOBBY === -->
    <div id="lobby-screen" style="display: none;">
        <div class="lobby-window">
            <div class="lobby-header">LOBBY - WAITING FOR PIRATES</div>
            <div id="lobby-player-list" class="lobby-list"></div>
            <div class="lobby-footer">
                <button id="btn-leave-lobby" class="btn-secondary">LEAVE</button>
                <div id="lobby-status">Waiting...</div>
                <button id="btn-ready" class="btn-primary">READY UP</button>
            </div>
        </div>
    </div>

    <!-- === GAME HUD === -->
    <div id="game-ui" style="display: none;">
        <!-- Crosshair -->
        <div id="crosshair"></div>

        <!-- Top Status -->
        <div class="hud-top">
            <div class="role-badge" id="role-display">SURVIVOR</div>
            <div class="timer-box" id="game-timer">60</div>
            <div class="task-progress">
                <span>TASKS</span>
                <div class="progress-bar"><div id="task-bar-fill"></div></div>
            </div>
        </div>

        <!-- Left Bottom: HP & Quickslots -->
        <div class="hud-bottom-left">
            <div class="hp-bar-container">
                <div class="hp-icon"><i class="fas fa-heart"></i></div>
                <div class="hp-bar"><div id="hp-fill" style="width: 100%;"></div></div>
                <span id="hp-text">100/100</span>
            </div>
            <div class="quick-slots">
                <div class="slot"><span class="key">1</span><i class="fas fa-bomb"></i></div>
                <div class="slot"><span class="key">2</span><i class="fas fa-apple-alt"></i></div>
                <div class="slot"><span class="key">3</span><i class="fas fa-compass"></i></div>
                <div class="slot"><span class="key">4</span></div>
            </div>
        </div>

        <!-- Quest List -->
        <div class="quest-tracker">
            <h3>ACTIVE TASKS</h3>
            <ul id="task-list"></ul>
        </div>

        <!-- Interaction -->
        <div id="interaction-prompt">
            <div class="key-circle">E</div>
            <span id="interaction-text">INTERACT</span>
        </div>

        <!-- Task Modal (Minigame) -->
        <div id="task-modal" style="display: none;">
            <div class="task-window">
                <h2 id="task-title">TASK</h2>
                <div id="task-content"></div>
                <button id="btn-close-task" class="btn-secondary">CANCEL</button>
            </div>
        </div>
    </div>

    <!-- === BUILDER UI === -->
    <div id="builder-ui" style="display: none;">
        <div class="builder-sidebar">
            <h3>MAP EDITOR</h3>
            <div class="tool-section">
                <h4>PLACEMENT</h4>
                <button class="tool-btn active" data-type="spawn"><i class="fas fa-user"></i> Player Spawn</button>
                <button class="tool-btn" data-type="task"><i class="fas fa-cogs"></i> Task Point</button>
                <button class="tool-btn" data-type="portal"><i class="fas fa-door-open"></i> Exit Portal</button>
                <button class="tool-btn" data-type="light"><i class="fas fa-lightbulb"></i> Light Source</button>
            </div>
            
            <div class="tool-section">
                <h4>CONTROLS</h4>
                <p><span class="key">R-Click</span> Rotate Cam</p>
                <p><span class="key">WASD</span> Move</p>
                <p><span class="key">Q/E</span> Up/Down</p>
                <p><span class="key">L-Click</span> Place</p>
            </div>

            <div class="builder-actions">
                <button id="btn-export-map" class="btn-primary">SAVE JSON</button>
                <button id="btn-exit-builder" class="btn-secondary">EXIT</button>
            </div>
        </div>
        <div id="builder-overlay">
            Coordinates: <span id="builder-coords">0, 0, 0</span>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>